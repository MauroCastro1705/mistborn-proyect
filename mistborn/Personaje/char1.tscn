[gd_scene load_steps=45 format=3 uid="uid://dmqbb6wammm5p"]

[ext_resource type="Script" uid="uid://b54b4cnjaj5xm" path="res://Personaje/char_1.gd" id="1_ngd07"]
[ext_resource type="Texture2D" uid="uid://cr8518k4du5qc" path="res://assets/character/120x80_PNGSheets/_Fall.png" id="2_wivtg"]
[ext_resource type="Texture2D" uid="uid://bam24eio71ow6" path="res://assets/character/120x80_PNGSheets/_Idle.png" id="3_sf0id"]
[ext_resource type="Texture2D" uid="uid://dua8rxw4ty6r3" path="res://assets/character/120x80_PNGSheets/_Jump.png" id="4_7xlo5"]
[ext_resource type="Texture2D" uid="uid://6kitapgyksma" path="res://assets/character/120x80_PNGSheets/_JumpFallInbetween.png" id="5_ghlw4"]
[ext_resource type="Texture2D" uid="uid://cjkkd6xt4pak" path="res://assets/character/120x80_PNGSheets/_Run.png" id="6_vb5fy"]
[ext_resource type="PackedScene" uid="uid://txoaewemsjrd" path="res://componentes/ui/ui_controls.tscn" id="7_sf0id"]
[ext_resource type="PackedScene" uid="uid://b5fkmd48x1de7" path="res://componentes/score/score label.tscn" id="8_7xlo5"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_mayg1"]
radius = 9.0
height = 44.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ngd07"]
radius = 253.018

[sub_resource type="AtlasTexture" id="AtlasTexture_j8wre"]
atlas = ExtResource("2_wivtg")
region = Rect2(0, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_bgjxf"]
atlas = ExtResource("2_wivtg")
region = Rect2(120, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_hg705"]
atlas = ExtResource("2_wivtg")
region = Rect2(240, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_i0vj5"]
atlas = ExtResource("3_sf0id")
region = Rect2(0, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_jy1nf"]
atlas = ExtResource("3_sf0id")
region = Rect2(120, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_28k27"]
atlas = ExtResource("3_sf0id")
region = Rect2(240, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_h02fp"]
atlas = ExtResource("3_sf0id")
region = Rect2(360, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_ydbmu"]
atlas = ExtResource("3_sf0id")
region = Rect2(480, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ihc3"]
atlas = ExtResource("3_sf0id")
region = Rect2(600, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_05wqo"]
atlas = ExtResource("3_sf0id")
region = Rect2(720, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_tqnr8"]
atlas = ExtResource("3_sf0id")
region = Rect2(840, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_osl6v"]
atlas = ExtResource("3_sf0id")
region = Rect2(960, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_wgl5t"]
atlas = ExtResource("3_sf0id")
region = Rect2(1080, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_idule"]
atlas = ExtResource("4_7xlo5")
region = Rect2(0, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_o8o26"]
atlas = ExtResource("4_7xlo5")
region = Rect2(120, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_8ta4w"]
atlas = ExtResource("4_7xlo5")
region = Rect2(240, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_7wivb"]
atlas = ExtResource("5_ghlw4")
region = Rect2(0, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_2l8xn"]
atlas = ExtResource("5_ghlw4")
region = Rect2(120, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_hb044"]
atlas = ExtResource("6_vb5fy")
region = Rect2(0, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_2vw20"]
atlas = ExtResource("6_vb5fy")
region = Rect2(120, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_6477v"]
atlas = ExtResource("6_vb5fy")
region = Rect2(240, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_2eieq"]
atlas = ExtResource("6_vb5fy")
region = Rect2(360, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_x7eom"]
atlas = ExtResource("6_vb5fy")
region = Rect2(480, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_mv35j"]
atlas = ExtResource("6_vb5fy")
region = Rect2(600, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_t0mp5"]
atlas = ExtResource("6_vb5fy")
region = Rect2(720, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_ohm77"]
atlas = ExtResource("6_vb5fy")
region = Rect2(840, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_t80g2"]
atlas = ExtResource("6_vb5fy")
region = Rect2(960, 0, 120, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_ux4yq"]
atlas = ExtResource("6_vb5fy")
region = Rect2(1080, 0, 120, 80)

[sub_resource type="SpriteFrames" id="SpriteFrames_rlwmd"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_j8wre")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bgjxf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hg705")
}],
"loop": true,
"name": &"fall",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_i0vj5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jy1nf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_28k27")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h02fp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ydbmu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ihc3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_05wqo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqnr8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_osl6v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wgl5t")
}],
"loop": true,
"name": &"idle",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_idule")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o8o26")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8ta4w")
}],
"loop": true,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7wivb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2l8xn")
}],
"loop": true,
"name": &"jump_fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_hb044")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2vw20")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6477v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2eieq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x7eom")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mv35j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t0mp5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ohm77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t80g2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ux4yq")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}]

[sub_resource type="Gradient" id="Gradient_7xlo5"]
offsets = PackedFloat32Array(0, 0.675325, 1)
colors = PackedColorArray(0, 0, 0, 0, 0.396104, 0.396104, 0.396104, 0.396104, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ghlw4"]
gradient = SubResource("Gradient_7xlo5")
fill = 1
fill_from = Vector2(0.490826, 0.513761)

[sub_resource type="Animation" id="Animation_7xlo5"]
resource_name = "flash_effect"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("pick_up_efect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(-0.0333333, 0, 0.133333, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_ghlw4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("pick_up_efect:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vb5fy"]
_data = {
&"RESET": SubResource("Animation_ghlw4"),
&"flash_effect": SubResource("Animation_7xlo5")
}

[node name="Char1" type="CharacterBody2D" groups=["player"]]
collision_layer = 2
collision_mask = 3
floor_block_on_wall = false
script = ExtResource("1_ngd07")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 3)
shape = SubResource("CapsuleShape2D_mayg1")

[node name="sensor_metales" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 16

[node name="collisionShape" type="CollisionShape2D" parent="sensor_metales"]
shape = SubResource("CircleShape2D_ngd07")
debug_color = Color(0.715089, 0.391002, 0.73449, 0.42)

[node name="Line2D" type="Line2D" parent="."]
visible = false
z_index = 100
points = PackedVector2Array(0, 0)
width = 1.0
default_color = Color(4.62055e-06, 0.610556, 0.970053, 1)
antialiased = true

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.25, 1.25)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(3, -14)
sprite_frames = SubResource("SpriteFrames_rlwmd")
animation = &"run"
frame_progress = 0.670513
metadata/_edit_lock_ = true

[node name="UiControls" parent="." instance=ExtResource("7_sf0id")]
offset_top = -44.0
offset_bottom = -44.0

[node name="ScoreLabel" parent="." instance=ExtResource("8_7xlo5")]
offset_left = -313.0
offset_top = -232.0
offset_right = -313.0
offset_bottom = -232.0

[node name="pick_up_efect" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0)
offset_left = -335.0
offset_top = -290.0
offset_right = 329.0
offset_bottom = 279.0
texture = SubResource("GradientTexture2D_ghlw4")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_vb5fy")
}

[connection signal="body_entered" from="sensor_metales" to="." method="_on_sensor_metales_body_entered"]
[connection signal="body_exited" from="sensor_metales" to="." method="_on_sensor_metales_body_exited"]
